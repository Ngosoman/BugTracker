{% extends 'base.html' %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="bi bi-list-task"></i> My Issues</h2>
    <a href="{% url 'issue_create' %}" class="btn btn-primary">
        <i class="bi bi-plus-circle"></i> New Issue
    </a>
</div>

<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Title</th>
                <th>Project</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Created</th>
            </tr>
        </thead>
        <tbody>
            {% for issue in issues %}
            <tr>
                <td><strong>{{ issue.title }}</strong></td>
                <td>{{ issue.project.name }}</td>
                <td>
                    <span class="badge bg-{% if issue.priority == 'High' %}danger{% elif issue.priority == 'Medium' %}warning{% else %}info{% endif %}">
                        {{ issue.priority }}
                    </span>
                </td>
                <td>
                    <span class="badge bg-{% if issue.status == 'Open' %}success{% elif issue.status == 'In Progress' %}warning{% else %}secondary{% endif %}">
                        {{ issue.status }}
                    </span>
                </td>
                <td>{{ issue.created_at|date:"M d, Y" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="text-center">
                    <div class="alert alert-info">
                        <h4>No issues yet!</h4>
                        <p>Create your first issue to start tracking bugs.</p>
                        <a href="{% url 'issues:issue_create' %}" class="btn btn-primary">Create First Issue</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}